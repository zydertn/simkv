<?xml version="1.0"?>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>ICEfaces 2</title>
	<link rel="stylesheet" type="text/css"
		href="./xmlhttp/css/rime/rime.css" />
</h:head>
<h:body styleClass="ice-skin-rime" style="background-color:#D8D8D8">
	<h:form id="form1">
		<!-- ui:include src="CustomerTable.xhtml"></ui:include-->
		<ui:include src="UpperMenu.xhtml"></ui:include>

		<p>
			<h:panelGrid columns="2">
				<h:outputText style="font-weight:bolder; margin-right:15px"
					value="Kundenliste" />
				<h:outputText escape="false" style="color: red"
					value="#{actionController.requestMessage}" />
			</h:panelGrid>
		</p>

		<h:panelGrid columns="2">
			<h:panelGrid bgcolor="#E0E6F8" cellspacing="1" width="1150">
				<h:outputText style="font-weight:bold" value="Kunden:" />
				<h:panelGrid>
					<ice:dataTable id="customerTable" value="#{customerController.allCustomers}" var="customer" rows="20" width="100%" cellspacing="1" cellpadding="5">
						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="Kundennummer" value="Kundennummer"></ice:commandSortHeader>
							</f:facet>
							#{customer.customernumber}
						</ice:column>

						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="Kunde" value="Kunde"></ice:commandSortHeader>
							</f:facet>
							#{customer.name}
						</ice:column>

						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="Adresse" value="Adresse"></ice:commandSortHeader>
							</f:facet>
							#{customer.address.addressString}
						</ice:column>

						<ice:column>
							<f:facet name="header">
								<ice:commandSortHeader columnName="Land" value="Land"></ice:commandSortHeader>
							</f:facet>
							#{customer.country.name}
						</ice:column>

					</ice:dataTable>
					
		           <ice:dataPaginator id="paginator"
                            for="customerTable" 
                            fastStep="4"
                            paginator="true"
                            paginatorMaxPages="5">
		                <f:facet name="first">
		                    <h:graphicImage value="/xmlhttp/css/rime/css-images/arrow-first.gif"
		                                    style="width: 18px; height: 18px; border: none;"
		                                    alt="First" title="First"/>
		                </f:facet>
		                <f:facet name="last">
		                    <h:graphicImage value="/xmlhttp/css/rime/css-images/arrow-last.gif"
		                                    style="width: 18px; height: 18px; border: none;"
		                                    alt="Last" title="Last"/>
		                </f:facet>
		                <f:facet name="previous">
		                    <h:graphicImage value="/xmlhttp/css/rime/css-images/arrow-previous.gif"
		                                    style="width: 18px; height: 18px; border: none;"
		                                    alt="Previous" title="Previous"/>
		                </f:facet>
		                <f:facet name="next">
		                    <h:graphicImage value="/xmlhttp/css/rime/css-images/arrow-next.gif"
		                                    style="width: 18px; height: 18px; border: none;"
		                                    alt="Next" title="Next"/>
		                </f:facet>
		                <f:facet name="fastforward">
		                    <h:graphicImage value="/xmlhttp/css/rime/css-images/arrow-ff.gif"
		                                    style="width: 18px; height: 18px; border: none;"
		                                    alt="Fast Forward" title="Fast Forward"/>
		                </f:facet>
		                <f:facet name="fastrewind">
		                    <h:graphicImage value="/xmlhttp/css/rime/css-images/arrow-fr.gif"
		                                    style="width: 18px; height: 18px; border: none;"
		                                    alt="Fast Rewind" title="Fast Rewind"/>
		                </f:facet>
		            </ice:dataPaginator>
				</h:panelGrid>
			</h:panelGrid>
		</h:panelGrid>

	</h:form>
	<h:form id="form2">
		<h:panelGrid>
			<h:commandButton value="Tabelle exportieren" action="#{customerController.downloadCustomerList}">
			   <f:ajax disabled="true"/>
			</h:commandButton>
		</h:panelGrid>
	</h:form>
</h:body>
</html>